= Cyber Range Monitor "_range_monitor_"

The Guacamole Monitor is web-based application that for monitoring and
interacting with a Guacamole server. based on https://flask.palletsprojects.com/en/2.3.x/tutorial/

image::docs/range-monitor-1920.png[range_monitor,640]

== install

. Install required Python Modules

[,bash]
----
pip install -r requirements.txt
----

. ensure you create your *Configuration* file to authenticate with the applicable services
. Run the application
[,bash]
----
python range_monitor/main.py
----

== Requirements
To ensure proper functionality and usage, identified below is the baseline
directory structure and required for use of Guacamole Monitor.

**Project Repository Structure**  
[,bash]
----
cyber-range-monitor
  |___ range_monitor
  |       |___ static
  |       |___ templates
  |       |___ src
  |       |___ main.py
  |___ docs
  |___ tests
  |___ clouds.yaml
  |
  ...
----


== DB Initalization for Windows
[,ps1]
----
py -3 -m venv .venv
.venv\Scripts\activate

flask --app range_monitor init-db
----

== DB Initalization for Mac/Linux
[,bash]
----
python3 -m venv .venv
. .venv/bin/activate

flask --app range_monitor init-db
----

== Running the flask app
[,bash]
----
flask --app range_monitor run --debug
----

== Running unit tests
[,bash]
----
coverage run -m pytest
----

== Features

=== Gucamole Monitor Plugin
The Guacamole Monitor allows the user to visualize and interact with
Guacamole connections.

**Topology**  
- View all connections in an interactive topology
-- Zoom, drag, and select nodes
- Connect to selected nodes
-- If there is an active connection, connect via active connection
- Kill selected node connections.
- Updates every 5 seconds

**Active Connections**  
- View active connections and their associated users
-- Separated by connection organization

**Active Users**  
- View active users
-- Separated by guacamole organization

=== OpenStack Monitor Plugin
The OpenStack Monitor allows the user to visualize and interact with
OpenStack connections.

=== SaltStack Monitor Plugin
The SaltStack Monitor allows the user to visualize and interact with
SaltStack connections.

=== Configuration File Template 
Define the connection endpoint and credential to interact with your chosen
services

*_For Development Only_*

clouds.yaml
[,yaml]
----
clouds:
  openstack:
    auth:
      auth_url: https://our.openstack.org:5000/v3
      project_name: project
      username: admin
      password: password123
      user_domain_name: Default
      project_domain_name: Default
    region_name: RegionOne
    identity_api_version: 3
  guacamole:
    host: https://our.guacamole.org
    data_source: mysql
    username: admin
    password: password123
----