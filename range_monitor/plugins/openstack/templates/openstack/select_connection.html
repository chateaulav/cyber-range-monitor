{% extends 'openstack_base.html' %}

{% block title %}Select Connection{% endblock %}
{% block header %}Select Connection to View Timeline{% endblock %}

{% block content %}
<div class="select-connection">
    <h2>Select a Connection</h2>
    <select id="connectionSelect">
        <option value="" selected disabled>Select a connection</option>
        {% for conn in connections %}
        <option value="{{ conn.id }}">{{ conn.name }}</option>
        {% endfor %}
    </select>
    <button id="viewTimeline">View Timeline</button>
</div>
<script>
document.getElementById('viewTimeline').addEventListener('click', function() {
    var connId = document.getElementById('connectionSelect').value;
    if (connId) {
        window.location.href = '/openstack/' + connId + '/connection_timeline';
    } else {
        alert('Please select a connection.');
    }
});
</script>
{% endblock %}
